<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Video App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    </head>
<body class="bg-gray-50 min-h-screen">

    <script>
        // üö® videos.js ·Äô·Äæ·Ä¨ ·Äô·Äõ·Äæ·Ä≠·Äõ·ÄÑ·Ä∫ ·Äí·ÄÆ showPage function ·ÄÄ Page ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä±·Ä∏·Äï·Ä´·Äô·Äö·Ä∫·Åã
        window.showPage = function(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            const activePage = document.getElementById(pageId);
            if (activePage) {
                activePage.classList.remove('hidden');
                // Page ·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äê·Ä≤·Ä∑·Ä°·ÄÅ·Ä´ Profile Photo ·ÄÄ·Ä≠·ÄØ ·Äï·Äº·Äî·Ä∫ Load ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´
                if(window.loadProfilePhoto) {
                    window.loadProfilePhoto();
                }
            }
        }

        // URL hash ·ÄÄ·Ä≠·ÄØ ·ÄÖ·ÄÖ·Ä∫·Äï·Äº·ÄÆ·Ä∏ Page ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä±·Ä∏·Äõ·Äî·Ä∫
        window.addEventListener('hashchange', () => {
            const pageId = window.location.hash.substring(1) || 'login-page';
            window.showPage(pageId);
        });

        // DOMContentLoaded ·Äô·Äæ·Ä¨ Page ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä±·Ä∏·Äõ·Äî·Ä∫
        document.addEventListener('DOMContentLoaded', () => {
            // üö® ·Äï·Äë·Äô·ÄÜ·ÄØ·Ä∂·Ä∏ ·ÄÖ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äõ·ÄÑ·Ä∫ login page ·ÄÄ·Ä≠·ÄØ ·Äï·Äº·Äõ·Äî·Ä∫
            const pageId = window.location.hash.substring(1) || 'login-page';
            window.showPage(pageId);
        });
    </script>
    

    <div id="login-page" class="page hidden flex justify-center items-center h-screen">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-sm">
            <h2 class="text-2xl font-bold text-center mb-6">User Login</h2>
            
            <input type="email" id="loginEmail" placeholder="Email" class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
            <input type="password" id="loginPassword" placeholder="Password" class="w-full p-3 mb-6 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
            
            <button onclick="window.handleLogin()" class="w-full bg-indigo-600 text-white p-3 rounded-lg font-semibold hover:bg-indigo-700 transition">
                Login
            </button>
            
            <p id="login-message" class="text-center mt-4 text-sm text-red-500"></p>
            <p class="text-center mt-4 text-sm">
                Don't have an account yet? <a href="#register-page" onclick="window.showPage('register-page')" class="text-indigo-600 font-medium hover:underline">Register.</a>
            </p>
        </div>
    </div>


    <div id="register-page" class="page hidden flex justify-center items-center h-screen">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-sm">
            <h2 class="text-2xl font-bold text-center mb-6">User Registration</h2>
            
            <input type="email" id="registerEmail" placeholder="Email" class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
            <input type="password" id="registerPassword" placeholder="Password" class="w-full p-3 mb-6 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
            
            <button onclick="window.handleRegister()" class="w-full bg-green-600 text-white p-3 rounded-lg font-semibold hover:bg-green-700 transition">
                Register
            </button>
            
            <p id="register-message" class="text-center mt-4 text-sm text-red-500"></p>
            <p class="text-center mt-4 text-sm">
                Already have an account? <a href="#login-page" onclick="window.showPage('login-page')" class="text-indigo-600 font-medium hover:underline">Sign in.</a>
            </p>
        </div>
    </div>

    
    <div id="video-feed-page" class="page hidden">
        <div class="fixed top-0 w-full bg-white shadow p-3 flex justify-between items-center z-10">
            <h1 class="text-xl font-bold text-indigo-600">Video Feed (Home)</h1>
            <img id="profilePhoto" 
                 src="default-profile.png" 
                 alt="Profile" 
                 class="w-10 h-10 rounded-full border-2 border-indigo-500 cursor-pointer"
                 onclick="window.showPage('profile-page')"> </div>

        <div class="mt-16 p-4 max-w-xl mx-auto">
            <video id="videoPlayer" 
                   playsinline 
                   controls 
                   crossorigin 
                   poster="default-poster.jpg"
                   class="w-full rounded-xl shadow-md">
                </video>

            <div class="mt-4 flex justify-between items-center">
                <h2 id="videoTitle" class="text-xl font-bold"></h2>
            </div>

            <div class="flex items-center space-x-6 mt-3">
                <button id="likeButton" onclick="window.toggleLike()" class="flex items-center text-gray-500 hover:text-red-500 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                    </svg>
                    <span id="likeCount" class="ml-1 font-semibold">0</span>
                </button>
                
                <a id="downloadLink" href="#" download class="text-gray-500 hover:text-green-600 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                </a>

                <button id="prevVideoBtn" onclick="window.prevVideo()" class="text-indigo-600 font-semibold hover:text-indigo-800 transition">Previous</button>
                <button id="nextVideoBtn" onclick="window.nextVideo()" class="text-indigo-600 font-semibold hover:text-indigo-800 transition">Next</button>
            </div>

            <div class="mt-6 border-t pt-4">
                <h3 class="text-lg font-semibold mb-3">Comments</h3>
                <div class="flex space-x-3 mb-4">
                    <input type="text" id="commentInput" placeholder="Comment ·Äõ·Ä±·Ä∏·Äï·Ä´..." class="flex-1 border p-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                    <button onclick="window.addComment()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition">·Äê·ÄÑ·Ä∫·Äô·Ää·Ä∫</button>
                </div>
                <div id="commentList" class="space-y-3">
                    </div>
            </div>
        </div>
    </div>


    <div id="profile-page" class="page hidden p-4 pt-16 max-w-xl mx-auto">
        <h2 class="text-3xl font-bold mb-4">·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äû·Ä∞ ·Äï·Äõ·Ä≠·ÄØ·Äñ·Ä≠·ÄØ·ÄÑ·Ä∫</h2>
        <button onclick="window.showPage('video-feed-page')" class="text-indigo-600 mb-4 hover:underline">&larr; ·Äó·ÄÆ·Äí·ÄÆ·Äö·Ä≠·ÄØ·Äô·Äª·Ä¨·Ä∏·Äû·Ä≠·ÄØ·Ä∑ ·Äï·Äº·Äî·Ä∫·Äû·ÄΩ·Ä¨·Ä∏·Äõ·Äî·Ä∫</button>
        <hr class="mb-6">

        <h4>·Äï·Äõ·Ä≠·ÄØ·Äñ·Ä≠·ÄØ·ÄÑ·Ä∫ ·Äì·Ä¨·Äê·Ä∫·Äï·ÄØ·Ä∂</h4>
        
        <div class="profile-photo-area flex items-center space-x-4 py-4">
            <img id="profilePhoto" 
                 src="default-profile.png" 
                 alt="Profile Photo" 
                 class="w-20 h-20 rounded-full border-2 border-indigo-500 cursor-pointer"
                 onclick="document.getElementById('profilePhotoInput').click()"> 
            
            <input type="file" 
                   id="profilePhotoInput" 
                   accept="image/*" 
                   class="hidden">

            <button onclick="document.getElementById('profilePhotoInput').click()" 
                    class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition">
                ·Äï·ÄØ·Ä∂·Äõ·ÄΩ·Ä±·Ä∏·Äõ·Äî·Ä∫/·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äõ·Äî·Ä∫
            </button>
        </div>
        <hr class="mb-6">

        <button onclick="window.handleLogout()" class="w-full bg-red-600 text-white p-3 rounded-lg font-semibold hover:bg-red-700 transition mt-8">
            Logout
        </button>
    </div>


    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    
    <script src="videos.js"></script>

</body>
</html>
